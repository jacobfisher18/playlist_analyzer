(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(81)},25:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),c=a.n(r),i=(a(25),a(2)),l=a(3),o=a(5),u=a(4),m=a(6),p=a(84),h=a(85),d=a(8),y=(a(30),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={activePlaylist:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderPlaylists",value:function(){var e=this;if(this.props.playlists)return this.props.playlists.map(function(t){return s.a.createElement("li",{className:e.props.currentPlaylist.name===t.name?"Sidebar_Playlist_Selected":"Sidebar_Playlist_Unselected",key:t.name,onClick:function(){return e.props.setCurrentPlaylist(t)}},t.name)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Sidebar"},s.a.createElement("h4",{className:"Sidebar_Title_Playlists"},"YOUR PLAYLISTS"),this.renderPlaylists())}}]),t}(n.Component));a(32);var v=function(e){var t=e.user;return s.a.createElement("div",{className:"Header"},s.a.createElement("button",{type:"button",className:"Header_Logout",onClick:function(){return e.logout()}},"logout"),s.a.createElement("p",{className:"Header_Name"},t.display_name),t&&t.images?s.a.createElement("img",{className:"Header_Img",src:t.images[0].url||"",alt:"user img"}):s.a.createElement("span",null),s.a.createElement("div",{style:{clear:"both"}}))};a(34);var k=function(e){var t=e.playlist;return s.a.createElement("div",{className:"PlaylistHeader"},s.a.createElement("img",{className:"PlaylistHeader_Image",src:t.images&&t.images[0]?t.images[0].url:"",alt:"playlist img"}),s.a.createElement("div",{className:"PlaylistHeader_Metadata"},s.a.createElement("h3",{className:"PlaylistHeader_Title"},"PLAYLIST"),s.a.createElement("h1",{className:"PlaylistHeader_Name"},t.name||""),s.a.createElement("h5",{className:"PlaylistHeader_TrackCount"},"".concat(t.tracks.total||0," tracks"))))},f=(a(36),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderTracks",value:function(){var e=this.props.items;return e?e.map(function(e){return s.a.createElement("tr",{key:e.track.name},s.a.createElement("td",{className:"Tracklist_Title"},e.track.name),s.a.createElement("td",{className:"Tracklist_Artist_Album"},e.track.artists.map(function(e){return e.name}).join(", ")),s.a.createElement("td",{className:"Tracklist_Artist_Album"},e.track.album.name),s.a.createElement("td",{className:"Tracklist_Popularity"},e.track.popularity))}):null}},{key:"render",value:function(){return s.a.createElement("div",{className:"TrackList"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"TITLE"),s.a.createElement("th",null,"ARTIST"),s.a.createElement("th",null,"ALBUM"),s.a.createElement("th",null,"POPULARITY")),this.renderTracks())))}}]),t}(n.Component));a(38);var b=function(e){var t=e.playlist;return s.a.createElement("div",{className:"Overview"},s.a.createElement("p",null,"Owner:"," ",t.owner.display_name),s.a.createElement("p",null,t.public?"PUBLIC":"PRIVATE"," | ",t.collaborative?"COLLABORATIVE":"NOT COLLABORATIVE"),s.a.createElement("p",null,t.tracks.total," ","tracks"))},E=a(15),T=a.n(E);a(54);var g=function(e){var t=e.value,a=t||0;(a<0||a>1)&&(a=0);var n={width:"".concat(400,"px")},r={width:"".concat(400*a,"px")};return s.a.createElement("div",{className:"FeatureBar_Outer",style:n},s.a.createElement("div",{className:"FeatureBar_Inner",style:r,"data-tip":t}),s.a.createElement(T.a,{effect:"solid"}))},_=a(16),P=a.n(_),O=(a(58),[{name:"acousticness",description:"A confidence measure from 0.0 to 1.0 of whether the track is acoustic. 1.0 represents high confidence the track is acoustic."},{name:"danceability",description:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable."},{name:"energy",description:"Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy."},{name:"instrumentalness",description:"Predicts whether a track contains no vocals. The closer the instrumentalness value is to 1.0, the greater likelihood the track contains no vocal content. Values above 0.5 are intended to represent instrumental tracks."},{name:"liveness",description:"Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 0.8 provides strong likelihood that the track is live."},{name:"speechiness",description:"Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 1.0 the attribute value."},{name:"valence",description:"A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry)."}]),N=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getAvg",value:function(e){var t=this.props.trackStats||[],a=t.reduce(function(t,a){return t+Number(a[e])},0)/t.length;return Math.round(100*a)/100}},{key:"renderAverages",value:function(){var e=this;return O.map(function(t){return s.a.createElement("tr",{className:"Stats_TableRow",key:t.name},s.a.createElement("td",{className:"Stats_FeatureName"},s.a.createElement(P.a,{content:t.description,padding:"20px"},t.name)),s.a.createElement("td",null,s.a.createElement(g,{value:e.getAvg(t.name)})),s.a.createElement("td",null,e.getAvg(t.name)))})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Stats"},s.a.createElement("h1",{className:"Stats_Averages_Title"},"Averages"),s.a.createElement("table",null,s.a.createElement("tbody",null,this.renderAverages())))}}]),t}(n.Component),S="user-read-private user-read-email playlist-read-private",j=["OVERVIEW","TRACKS","STATS"],A=(a(60),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderTabs",value:function(){var e=this.props,t=e.activeTab,a=e.selectTab;return j.map(function(e){return s.a.createElement("li",{className:t===e?"PlaylistMenu_Active_Tab":"",onClick:function(){return a(e)},key:e},e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"PlaylistMenu"},s.a.createElement("ul",null,this.renderTabs()))}}]),t}(n.Component)),C=function(e,t,a){fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(e){a(e)})},w=(a(62),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={access_token:a.props.cookies.get("access_token")||"",user:{display_name:"",images:[{url:""}]},playlists:[],currentPlaylist:{name:"",tracks:{total:0},images:[{url:""}]},currentPlaylistTracks:[],currentPlaylistTrackStats:[],activeTab:j[0]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.state.access_token?(this.getPlaylists(),this.getUserProfile()):this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.state.access_token||this.props.history.push("/")}},{key:"logout",value:function(){this.props.cookies.set("access_token",""),this.setState({access_token:""})}},{key:"getPlaylists",value:function(){var e=this,t="https://api.spotify.com/v1/me/playlists?&limit=".concat(50);C(t,this.state.access_token,function(t){e.setState({playlists:t.items}),e.setCurrentPlaylist(t.items?t.items[0]:[])})}},{key:"getUserProfile",value:function(){var e=this;C("https://api.spotify.com/v1/me",this.state.access_token,function(t){e.setState({user:t})})}},{key:"setCurrentPlaylist",value:function(e){this.setState({currentPlaylist:e}),this.getTracks(e.id)}},{key:"getTracks",value:function(e){if(this.setState({currentPlaylistTracks:[]}),e){var t="https://api.spotify.com/v1/playlists/".concat(e,"/tracks");this.recursivelyGetTracks(t)}}},{key:"recursivelyGetTracks",value:function(e){var t=this;C(e,this.state.access_token,function(e){t.setState({currentPlaylistTracks:t.state.currentPlaylistTracks.concat(e.items)}),e.next?t.recursivelyGetTracks(e.next):t.getTrackStats()})}},{key:"getTrackStats",value:function(){var e=this;this.setState({currentPlaylistTrackStats:[]});for(var t=this.state.currentPlaylistTracks.map(function(e){return e.track.id}),a=0;a<t.length;a+=100){var n=t.slice(a,a+100),s="https://api.spotify.com/v1/audio-features/?ids=".concat(n.toString());C(s,this.state.access_token,function(t){e.setState({currentPlaylistTrackStats:e.state.currentPlaylistTrackStats.concat(t.audio_features)})})}}},{key:"renderActiveTab",value:function(){return"OVERVIEW"===this.state.activeTab?s.a.createElement(b,{playlist:this.state.currentPlaylist}):"TRACKS"===this.state.activeTab?s.a.createElement(f,{items:this.state.currentPlaylistTracks}):"STATS"===this.state.activeTab?s.a.createElement(N,{trackStats:this.state.currentPlaylistTrackStats}):void 0}},{key:"selectTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},s.a.createElement(v,{user:this.state.user,logout:this.logout.bind(this)}),s.a.createElement(y,{currentPlaylist:this.state.currentPlaylist,playlists:this.state.playlists,setCurrentPlaylist:this.setCurrentPlaylist.bind(this)}),s.a.createElement("div",{className:"Home_Main_Content"},this.state.currentPlaylist.name?s.a.createElement("div",null,s.a.createElement(k,{playlist:this.state.currentPlaylist,access_token:this.state.access_token}),s.a.createElement(A,{activeTab:this.state.activeTab,selectTab:this.selectTab.bind(this)}),this.renderActiveTab()):s.a.createElement("p",null)))}}]),t}(n.Component)),L=Object(d.b)(w),I=a(17),R=a.n(I),H=(a(75),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=R.a.parse(e.hash).access_token||"";t?(this.props.cookies.set("access_token",t),this.props.history.push("/home")):this.props.cookies.get("access_token")&&this.props.history.push("/home")}},{key:"render",value:function(){return s.a.createElement("div",{className:"Landing"},s.a.createElement("h3",{className:"Landing_Title_Spotify"},"Spotify"),s.a.createElement("h1",{className:"Landing_Title_Playlist_Analyzer"},"PLAYLIST ANALYZER"),s.a.createElement("h5",{className:"Landing_Title_Web_App"},"A web app by"," ",s.a.createElement("span",{className:"Landing_Title_Name"},"Jacob Fisher")),s.a.createElement("button",{className:"Landing_Button_Login",onClick:function(){window.location="https://accounts.spotify.com/authorize?response_type=token&client_id=bc800faa1cb3438da94f230ba04a1e1b&scope="+encodeURIComponent(S)+"&redirect_uri="+encodeURIComponent("http://localhost:3000/")}},"LOGIN"))}}]),t}(n.Component)),U=Object(d.b)(H),B=(a(77),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement(p.a,null,s.a.createElement("div",null,s.a.createElement(h.a,{path:"/",exact:!0,component:U}),s.a.createElement(h.a,{path:"/home",component:L}))))}}]),t}(n.Component));c.a.render(s.a.createElement(B,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.c3a0266e.chunk.js.map